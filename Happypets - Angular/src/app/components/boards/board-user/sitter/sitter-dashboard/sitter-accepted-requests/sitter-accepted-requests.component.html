<div class="container">

  <mat-expansion-panel class="card text-center mt-3" *ngFor="let sitterResponse of sitterAcceptedRequests">
    <mat-expansion-panel-header class="card-header">
      From: &nbsp; <strong>{{sitterResponse.fromClient.firstName}} {{sitterResponse.fromClient.lastName}}</strong>
    </mat-expansion-panel-header>
    <div class="card-body">
      <mat-form-field>
        <mat-label>Start Date</mat-label>
        <input class="text-center" matInput readonly [value]="changeValue(sitterResponse.startDate)">
      </mat-form-field>
      &nbsp;&nbsp;
      <mat-form-field>
        <mat-label>End Date</mat-label>
        <input class="text-center" matInput readonly [value]="changeValue(sitterResponse.endDate)">
      </mat-form-field>
      <h5 class="card-title">Services ordered:</h5>
      <table mat-table [dataSource]="sitterResponse.orderServicesSet" class="mat-elevation-z8 text-left">

        <ng-container matColumnDef="Name">
          <th mat-header-cell *matHeaderCellDef class="font-weight-bold"> Name</th>
          <td mat-cell *matCellDef="let service" aria-setsize="20px"> {{service.name}} </td>
        </ng-container>

        <ng-container matColumnDef="Price">
          <th mat-header-cell *matHeaderCellDef class="font-weight-bold"> Price</th>
          <td mat-cell *matCellDef="let service"> {{service.price}} RON</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
      </table>
    </div>
    <div class="card-footer text-muted">
      Created at {{changeValue(sitterResponse.createdAt)}}
    </div>
    <button mat-flat-button color="warn" class="m-2" (click)="cancelAccept(sitterResponse.id)">Cancel</button>
  </mat-expansion-panel>


</div>
